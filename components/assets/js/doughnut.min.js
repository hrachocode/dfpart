import $ from 'jquery';$(function(){$("#doughnutChart").drawDoughnutChart([{title:"Мужчины",value:95,color:"#4de200"},{title:"Женщины",value:5,color:"#80adff"}])}),$(function(){$("#doughnutChart2").drawDoughnutChart([{title:"В браке",value:31,color:"#80adff"},{title:"Одинок",value:27,color:"#186aff"},{title:"В активном поиске",value:20,color:"#ff186b"},{title:"Влюблен",value:11,color:"#ff0000"},{title:"В отношениях",value:6,color:"#ff6f00"},{title:"Все сложно",value:4,color:"#44c800"},{title:"Помолвлены",value:1,color:"#4de200"}])}),function(t,e){t.fn.drawDoughnutChart=function(e,a){function n(t,e){var a=l+m(-1.57)*t,n=f+p(-1.57)*t,o=l+m(-1.57)*e,i=f+p(-1.57)*e,r=["M",a,n,"A",t,t,0,1,1,l+m(4.7131)*t,f+p(4.7131)*t,"Z","M",l+m(4.7131)*e,f+p(4.7131)*e,"A",e,e,0,1,0,o,i,"Z"];return r=r.join(" ")}function o(t){return!isNaN(parseFloat(t))&&isFinite(t)}function i(t,e,a){return o(e)&&t>e?e:o(a)&&t<a?a:t}var r=this,u=r.width(),s=r.height(),l=u/2,f=s/2,m=Math.cos,p=Math.sin,c=Math.PI,d=t.extend({segmentShowStroke:!0,segmentStrokeColor:"#f7f7f7",segmentStrokeWidth:1,baseColor:"#f7f7f7",baseOffset:4,edgeOffset:10,percentageInnerCutout:62,animation:!0,animationSteps:90,animationEasing:"easeInOutExpo",animateRotate:!0,tipOffsetX:-8,tipOffsetY:-45,tipClass:"doughnutTip",summaryClass:"doughnutSummary",summaryTitle:"Total",summaryTitleClass:"doughnutSummaryTitle",summaryNumberClass:"doughnutSummaryNumber",beforeDraw:function(){},afterDrawed:function(){},onPathEnter:function(t,e){},onPathLeave:function(t,e){}},a),h=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)};d.beforeDraw.call(r);var w=t('<svg width="'+u+'" height="'+s+'" viewBox="0 0 '+u+" "+s+'" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"></svg>').appendTo(r),g=[],v={linear:function(t){return t},easeInOutExpo:function(t){var e=t<.5?8*t*t*t*t:1-8*--t*t*t*t;return e>1?1:e}}[d.animationEasing],y=function(t){return Math.min.apply(null,t)}([s/2,u/2])-d.edgeOffset,C=y*(d.percentageInnerCutout/100),T=0,x=y+d.baseOffset,b=C-d.baseOffset;t(document.createElementNS("http://www.w3.org/2000/svg","path")).attr({d:n(x,b),fill:d.baseColor}).appendTo(w);var S=t(document.createElementNS("http://www.w3.org/2000/svg","g"));S.attr({opacity:0}).appendTo(w);for(var A=t('<div class="'+d.tipClass+'" />').appendTo("body").hide(),O=(A.width(),A.height(),2*(C-(y-C))),k=t('<div class="'+d.summaryClass+'" />').appendTo(r).css({width:O+"px",height:O+"px","margin-left":-O/2+"px","margin-top":-O/2+"px"}),E=(t('<p class="'+d.summaryTitleClass+'">'+d.summaryTitle+"</p>").appendTo(k),t('<p class="'+d.summaryNumberClass+'"></p>').appendTo(k).css({opacity:0})),N=0,F=e.length;N<F;N++)T+=e[N].value,g[N]=t(document.createElementNS("http://www.w3.org/2000/svg","path")).attr({"stroke-width":d.segmentStrokeWidth,stroke:d.segmentStrokeColor,fill:e[N].color,"data-order":N}).appendTo(S).on("mouseenter",function(a){var n=t(this).data().order;A.text(e[n].title+": "+e[n].value).fadeIn(200),d.onPathEnter.apply(t(this),[a,e])}).on("mouseleave",function(a){A.hide(),d.onPathLeave.apply(t(this),[a,e])}).on("mousemove",function(t){A.css({top:t.pageY+d.tipOffsetY,left:t.pageX-A.width()/2+d.tipOffsetX})});return function(t){var e=d.animation?1/i(d.animationSteps,Number.MAX_VALUE,1):1,a=d.animation?0:1;h(function(){(function(t,e){e(d.animation?i(v(t),null,0):1)})(a+=e,t),a<=1?h(arguments.callee):d.afterDrawed.call(r)})}(function(t){var a=-c/2,o=1;if(d.animation&&d.animateRotate&&(o=t),function(t,e){E.css({opacity:t}).text((e*t).toFixed(1))}(t,T),S.attr("opacity",t),1===e.length&&4.7122<o*(e[0].value/T*(2*c))+a)g[0].attr("d",n(y,C));else for(var i=0,r=e.length;i<r;i++){var u=o*(e[i].value/T*(2*c)),s=a+u,h=(s-a)%(2*c)>c?1:0,w=l+m(a)*y,v=f+p(a)*y,x=l+m(a)*C,b=f+p(a)*C,A=l+m(s)*y,O=f+p(s)*y,k=l+m(s)*C,N=f+p(s)*C,F=["M",w,v,"A",y,y,0,h,1,A,O,"L",k,N,"A",C,C,0,h,0,x,b,"Z"];g[i].attr("d",F.join(" ")),a+=u}}),r}}(jQuery);